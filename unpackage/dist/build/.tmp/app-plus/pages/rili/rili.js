(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/rili/rili"],{"2fed":function(t,e,n){"use strict";n("829e");var o=r(n("b0ce")),a=r(n("be45"));function r(t){return t&&t.__esModule?t:{default:t}}Page((0,o.default)(a.default))},"6e42":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createApp=tt,e.createPage=at,e.createComponent=it,e.default=void 0;var o=a(n("f3d3"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=Object.prototype.toString,c=Object.prototype.hasOwnProperty;function u(t){return"function"===typeof t}function s(t){return"string"===typeof t}function l(t){return"[object Object]"===i.call(t)}function f(t,e){return c.call(t,e)}function v(){}var h=/requireNativePlugin|upx2px|hideKeyboard|canIUse|^create|Sync$|Manager$/,p=/^create|Manager$/,d=/^on/;function m(t){return p.test(t)}function _(t){return h.test(t)}function g(t){return d.test(t)}function y(t){return t.then(function(t){return[null,t]}).catch(function(t){return[t]})}function $(t){return!_(t)&&!g(t)}function b(t,e){return $(t)?function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];return u(t.success)||u(t.fail)||u(t.complete)?e.apply(void 0,[t].concat(o)):y(new Promise(function(n,a){e.apply(void 0,[Object.assign({},t,{success:n,fail:a})].concat(o)),Promise.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){throw n})})}}))}:e}var w=1e-4,x=750,P=!1,I=0,S=0;function k(){var t=wx.getSystemInfoSync(),e=t.platform,n=t.pixelRatio,o=t.windowWidth;I=o,S=n,P="ios"===e}function T(t,e){if(0===I&&k(),t=Number(t),0===t)return 0;var n=t/x*(e||I);return n<0&&(n=-n),n=Math.floor(n+w),0===n?1!==S&&P?.5:1:t<0?-n:n}var j={},E=["success","fail","cancel","complete"];function O(t,e,n){return function(o){return e(B(t,o,n))}}function C(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(l(e)){var r=!0===a?e:{};for(var i in u(n)&&(n=n(e,r)||{}),e)if(f(n,i)){var c=n[i];u(c)&&(c=c(e[i],e,r)),c?s(c)?r[c]=e[i]:l(c)&&(r[c.name?c.name:i]=c.value):console.warn("app-plus ".concat(t,"暂不支持").concat(i))}else E.includes(i)?r[i]=O(t,e[i],o):a||(r[i]=e[i]);return r}return u(e)&&(e=O(t,e,o)),e}function B(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return u(j.returnValue)&&(e=j.returnValue(t,e)),C(t,e,n,{},o)}function N(t,e){if(f(j,t)){var n=j[t];return n?function(e,o){var a=n;u(n)&&(a=n(e)),e=C(t,e,a.args,a.returnValue);var r=wx[a.name||t](e,o);return _(t)?B(t,r,a.returnValue,m(t)):r}:function(){console.error("app-plus 暂不支持".concat(t))}}return e}var A=Object.create(null),R=["subscribePush","unsubscribePush","onPush","offPush","share"];function D(t){return function(e){var n=e.fail,o=e.complete,a={errMsg:"".concat(t,":fail:暂不支持 ").concat(t," 方法")};u(n)&&n(a),u(o)&&o(a)}}function M(t){return"undefined"!==typeof weex?weex.requireModule(t):__requireNativePlugin__(t)}R.forEach(function(t){A[t]=D(t)});var F=Object.freeze({requireNativePlugin:M}),W=["__route__","__wxExparserNodeId__","__wxWebviewId__"];function U(t){var e=t.$mp[t.mpType];W.forEach(function(n){f(e,n)&&(t[n]=e[n])})}function V(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach(function(e){t[e]=function(t){var o=this;n?setTimeout(function(){return o.$vm.__call_hook(e,t)}):this.$vm.__call_hook(e,t)}})}function H(t,e){var n=t.data||{},o=t.methods||{};if("function"===typeof n)try{n=n.call(e)}catch(a){Object({NODE_ENV:"production",VUE_APP_PLATFORM:"app-plus",BASE_URL:"/"}).VUE_APP_DEBUG&&console.warn("根据 Vue 的 data 函数初始化小程序 data 失败，请尽量确保 data 函数中不访问 vm 对象，否则可能影响首次数据渲染速度。",n)}else try{n=JSON.parse(JSON.stringify(n))}catch(a){}return Object.keys(o).forEach(function(t){f(n,t)||(n[t]=o[t])}),n}var L=[String,Number,Boolean,Object,Array,null];function q(t){return function(e,n){this.$vm&&(this.$vm[t]=e)}}function z(t){var e={vueSlots:{type:null,value:[],observer:function(t,e){var n=Object.create(null);t.forEach(function(t){n[t]=!0}),this.setData({$slots:n})}}};return Array.isArray(t)?t.forEach(function(t){e[t]={type:null,observer:q(t)}}):l(t)&&Object.keys(t).forEach(function(n){var o=t[n];if(l(o)){var a=o["default"];u(a)&&(a=a()),e[n]={type:L.includes(o.type)?o.type:null,value:a,observer:q(n)}}else e[n]={type:L.includes(o)?o:null,observer:q(n)}}),e}function J(t){return t.stopPropagation=v,t.preventDefault=v,t.target=t.target||{},t.detail=t.detail||{},t.mp=t,t.target=Object.assign({},t.target,t.detail),t}function G(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;if(n&&!e.length)return t.detail;var o=[];return e.forEach(function(e){"$event"===e?o.push(n?t.detail[0]:t):o.push(e)}),o}var K="~",Q="^";function X(t){var e=this;t=J(t);var n=(t.currentTarget||t.target).dataset.eventOpts;if(!n)return console.warn("事件信息不存在");var o=t.type;n.forEach(function(n){var a=n[0],r=n[1],i=a.charAt(0)===Q;a=i?a.slice(1):a;var c=a.charAt(0)===K;a=c?a.slice(1):a,r&&o===a&&r.forEach(function(n){var o=e.$vm[n[0]];if(!u(o))throw new Error(" _vm.".concat(n[0]," is not a function"));if(c){if(o.once)return;o.once=!0}o.apply(e.$vm,G(t,n[1],i))})})}function Y(t){var e=t.$mp[t.mpType];Object.defineProperty(t,"$refs",{get:function(){var t=Object.create(null),n=e.selectAllComponents(".vue-ref");n.forEach(function(e){var n=e.dataset.ref;t[n]=e.$vm});var o=e.selectAllComponents(".vue-ref-in-for");return o.forEach(function(e){var n=e.dataset.ref;t[n]||(t[n]=[]),t[n].push(e.$vm)}),t}})}var Z=["onShow","onHide","onError","onPageNotFound"];function tt(t){t=t.default||t,o.default.mixin({beforeCreate:function(){this.$options.mpType&&(this.mpType=this.$options.mpType,this.$mp=r({data:{}},this.mpType,this.$options.mpInstance),delete this.$options.mpType,delete this.$options.mpInstance,"app"!==this.mpType&&(Y(this),U(this)))},created:function(){this.__init_injections(this),this.__init_provide(this)}});var e={onLaunch:function(e){var n=this;this.$vm=new o.default(Object.assign(t,{mpType:"app",mpInstance:this})),this.$vm.$mount(),setTimeout(function(){return n.$vm.__call_hook("onLaunch",e)})}};return V(e,Z,!0),App(e),t}function et(t,e){t.triggerEvent("__l",t.$vm||e,{bubbles:!0,composed:!0})}function nt(t){t.detail.$mp?t.detail.$parent||(t.detail.$parent=this.$vm,t.detail.$parent.$children.push(t.detail),t.detail.$root=this.$vm.$root):t.detail.parent||(t.detail.parent=this.$vm)}var ot=["onShow","onHide","onPullDownRefresh","onReachBottom","onShareAppMessage","onPageScroll","onResize","onTabItemTap","onBackPress","onNavigationBarButtonTap","onNavigationBarSearchInputChanged","onNavigationBarSearchInputConfirmed","onNavigationBarSearchInputClicked"];function at(t){t=t.default||t;var e={data:H(t,o.default.prototype),onLoad:function(e){this.$vm=new o.default(Object.assign(t,{mpType:"page",mpInstance:this})),this.$vm.__call_hook("created"),this.$vm.__call_hook("onLoad",e),this.$vm.$mount()},onReady:function(){this.$vm._isMounted=!0,this.$vm.__call_hook("mounted"),this.$vm.__call_hook("onReady")},onUnload:function(){this.$vm.__call_hook("onUnload"),this.$vm.$destroy()},__e:X,__l:nt};return V(e,ot),Page(e)}function rt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.$vm){var o=Object.assign({mpType:"component",mpInstance:t,propsData:t.properties},n);t.$vm=new e(o);var a=t.properties.vueSlots;if(Array.isArray(a)&&a.length){var r=Object.create(null);a.forEach(function(t){r[t]=!0}),t.$vm.$scopedSlots=t.$vm.$slots=r}t.$vm.$mount()}}function it(t){t=t.default||t;var e=z(t.props),n=o.default.extend(t),a={options:{multipleSlots:!0,addGlobalClass:!0},data:H(t,o.default.prototype),properties:e,lifetimes:{attached:function(){rt(this,n)},ready:function(){rt(this,n),et(this),this.$vm.__call_hook("created"),this.$vm.__call_hook("beforeMount"),this.$vm._isMounted=!0,this.$vm.__call_hook("mounted"),this.$vm.__call_hook("onReady")},detached:function(){this.$vm.$destroy()}},pageLifetimes:{show:function(t){this.$vm.__call_hook("onPageShow",t)},hide:function(){this.$vm&&this.$vm.__call_hook("onPageHide")},resize:function(t){this.$vm&&this.$vm.__call_hook("onPageResize",t)}},methods:{__e:X,__l:nt}};return Component(a)}var ct={};"undefined"!==typeof Proxy?ct=new Proxy({},{get:function(t,e){return"upx2px"===e?T:F[e]?b(e,F[e]):f(wx,e)||f(j,e)?b(e,N(e,wx[e])):void 0}}):(ct.upx2px=T,Object.keys(F).forEach(function(t){ct[t]=b(t,F[t])}),Object.keys(wx).forEach(function(t){(f(wx,t)||f(j,t))&&(ct[t]=b(t,N(t,wx[t])))}));var ut=ct,st=ut;e.default=st},"85bb":function(t,e,n){"use strict";n.r(e);var o=n("85f4"),a=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,function(){return o[t]})}(r);e["default"]=a.a},"85f4":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{canDownload:!1}},onReady:function(){var e=t.createCanvasContext("myCanvas");e.fillStyle="#FFFFFF",e.fillRect(0,0,300,300),e.drawImage("../../static/img/logo.jpg",10,260,500/7,198/7),e.drawImage("../../static/img/qr.jpeg",250,250,37,37),e.fillStyle="#ececec",e.arc(150,145,130,0,360),e.fill(),e.draw()},methods:{getCanvasInfo:function(t,e,n){var o=t.width,a=t.height,r=0,i=0;o>a?(i=n,r=o/(a/n),r<e&&(r=e,i=a/(o/e))):(r=e,i=a/(o/e),i<n&&(i=n,r=o/(a/n)));var c=(r-e)/2,u=(i-n)/2;return{dx:c,dy:u,dWidth:r,dHeight:i}},open:function(){var e=this;t.chooseImage({success:function(n){n.tempFilePaths[0];t.getImageInfo({src:n.tempFilePaths[0],success:function(n){var o=t.createCanvasContext("myCanvas");o.clearRect(0,0,300,300),o.arc(150,145,130,0,360),o.fillStyle="#ffffff",o.fill(),o.globalCompositeOperation="source-atop";var a=e.getCanvasInfo(n,300,300),r=a.dx,i=a.dy,c=a.dWidth,u=a.dHeight;o.drawImage(n.path,-r,-i,c,u),o.globalCompositeOperation="source-over",o.drawImage("../../static/img/logo.jpg",10,260,500/7,198/7),o.drawImage("../../static/img/qr.jpeg",250,250,37,37),o.draw(),e.canDownload=!0}})},fail:function(){t.showToast({title:"失败啦！！！",mask:!1,duration:1500})}})},save:function(){t.canvasToTempFilePath({canvasId:"myCanvas",fileType:"jpg",success:function(e){t.saveImageToPhotosAlbum({filePath:e.tempFilePath,success:function(){t.showToast({title:"保存成功",mask:!1,duration:1500})},fail:function(){t.showToast({title:"保存失败",mask:!1,duration:1500})}})}})}}};e.default=n}).call(this,n("6e42")["default"])},b0ce:function(t,e,n){"use strict";n.r(e);var o=n("f3d3"),a=n.n(o);function r(t,e,n){var o,a=t.$options[e];if("onError"===e&&a&&(a=[a]),"function"===typeof a&&(a=[a]),a)for(var i=0,c=a.length;i<c;i++)o=a[i].call(t,n);return t._hasHookEvent&&t.$emit("hook:"+e),t.$children.length&&t.$children.forEach(function(t){return r(t,e,n)}),o}function i(t){return t.$vm.$root}e["default"]=function(t){return{data:{$root:{}},onLoad:function(e){var n=new a.a(t);this.$vm=n;var o=n.$root;o.__wxExparserNodeId__=this.__wxExparserNodeId__,o.__wxWebviewId__=this.__wxWebviewId__,o.$mp||(o.$mp={});var r=o.$mp;r.mpType="page",r.page=this,r.query=e,r.status="load",n.$mount()},handleProxy:function(t){var e=i(this);return e.$handleProxyWithVue(t)},onShow:function(){var t=i(this),e=t.$mp;e.status="show",r(t,"onShow"),t.$nextTick(function(){t._initDataToMP()})},onReady:function(){var t=i(this),e=t.$mp;e.status="ready",r(t,"onReady")},onHide:function(){var t=i(this),e=t.$mp;e.status="hide",r(t,"onHide")},onUnload:function(){var t=i(this);r(t,"onUnload"),t.$destroy()},onPullDownRefresh:function(){var t=i(this);r(t,"onPullDownRefresh")},onReachBottom:function(){var t=i(this);r(t,"onReachBottom")},onPageScroll:function(t){var e=i(this);r(e,"onPageScroll",t)},onTabItemTap:function(t){var e=i(this);r(e,"onTabItemTap",t)},onShareAppMessage:t.onShareAppMessage?function(t){var e=i(this);return r(e,"onShareAppMessage",t)}:null,onNavigationBarButtonTap:function(t){var e=i(this);r(e,"onNavigationBarButtonTap",t)},onNavigationBarSearchInputChanged:function(t){var e=i(this);r(e,"onNavigationBarSearchInputChanged",t)},onNavigationBarSearchInputConfirmed:function(t){var e=i(this);r(e,"onNavigationBarSearchInputConfirmed",t)},onNavigationBarSearchInputClicked:function(t){var e=i(this);r(e,"onNavigationBarSearchInputClicked",t)},onBackPress:function(t){var e=i(this);return r(e,"onBackPress",t)},$getAppWebview:function(t){return plus.webview.getWebviewById(""+this.__wxWebviewId__)}}}},be45:function(t,e,n){"use strict";n.r(e);var o=n("e955"),a=n("85bb");for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);var i=n("2877"),c=Object(i["a"])(a["default"],o["a"],o["b"],!1,null,null,null);e["default"]=c.exports},e955:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticStyle:{width:"100vw",display:"flex","flex-direction":"column","justify-content":"flex-start","align-items":"center"}},[n("canvas",{staticStyle:{width:"300px",height:"300px",background:"#EFEFF4",border:"1px solid #DDDDDD",margin:"20px 0"},attrs:{"canvas-id":"myCanvas"}}),n("view",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"space-between",width:"90vw"}},[n("button",{attrs:{type:"primary",eventid:"ccb09d8c-0"},on:{click:t.open}},[t._v("获取图片")]),n("button",{attrs:{type:"default",disabled:!t.canDownload,eventid:"ccb09d8c-1"},on:{click:t.save}},[t._v("保存图片")])],1)])},a=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a})}},[["2fed","common/runtime","common/vendor"]]]);